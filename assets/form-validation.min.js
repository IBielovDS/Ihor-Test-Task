(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function i(e,r,n){return r=l(r),function(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,a()?Reflect.construct(r,n||[],l(e).constructor):r.apply(e,n))}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(a())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&u(o,r.prototype),o}(t,arguments,l(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},s(t)}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}if(customElements.component="form-validation",!customElements.get(customElements.component)){var c=function(t){function r(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i(this,r)).form=null,t.isValidForm=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,t),o=r,(s=[{key:"connectedCallback",value:function(){this.init()}},{key:"init",value:function(){this.initSelectors(),this.initListeners(),this.checkHashState()}},{key:"initSelectors",value:function(){this.formType=this.getAttribute("data-form-type"),this.form=this.querySelector("form"),this.sumbit=this.querySelector("[type='submit']"),this.inputs=this.querySelectorAll("input"),this.textareas=this.querySelectorAll("textarea"),this.selects=this.querySelectorAll("select"),this.elements=[].concat(e(this.inputs),e(this.textareas),e(this.selects)),this.showPasswordButtons=this.querySelectorAll("[data-show-password]"),this.hideDefaultErrors=this.querySelectorAll("[data-hide-default-error]")}},{key:"initListeners",value:function(){var t=this;this.form&&(this.form.addEventListener("submit",(function(e){e.preventDefault(),t.validateForm()})),this.sumbit.addEventListener("submit",(function(e){e.preventDefault(),t.validateForm()})),this.sumbit.addEventListener("click",(function(e){e.preventDefault(),t.validateForm()})),this.elements.length&&this.elements.forEach((function(e){var r=e.closest(".input-wrapper");r&&(e.addEventListener("input",(function(){t.toggleTargetClass(r,"error",!1)})),e.addEventListener("change",(function(){t.toggleTargetClass(r,"error",!1)})))})),this.showPasswordButtons.length&&this.showPasswordButtons.forEach((function(e){var r=e.closest(".input-wrapper").querySelector("input[type='password']");e.addEventListener("click",(function(){t.togglePasswordVisibility(r,e)}))})),this.hideDefaultErrors.length&&this.hideDefaultErrors.forEach((function(e){e.addEventListener("click",(function(){var r=e.closest("li");t.toggleTargetClass(r,"hidden",!0)}))})),window.addEventListener("hashchange",(function(){return t.checkHashState()})))}},{key:"checkHashState",value:function(){"#recover"===window.location.hash?("recover"===this.formType&&this.toggleTargetClass(this,"show",!0),"login"===this.formType&&this.toggleTargetClass(this,"hide",!0)):"#recover-success"===window.location.hash&&("login"===this.formType&&this.toggleTargetClass(this,"recover-success",!0),"recover"===this.formType&&this.toggleTargetClass(this,"show",!1))}},{key:"validateForm",value:function(){var t=this;this.toggleTargetClass(this.form,"loading",!0),this.toggleTargetClass(this.sumbit,"is-loading",!0),this.elements.forEach((function(e){var r=e.closest(".input-wrapper");r&&(t.toggleTargetClass(r,"error",!e.checkValidity()),t.isValidForm=e.checkValidity())})),this.form.checkValidity()?this.form.submit():this.toggleTargetClass(this.sumbit,"is-loading",!1),this.toggleTargetClass(this.form,"loading",!1)}},{key:"togglePasswordVisibility",value:function(t,e){var r="password"===t.getAttribute("type")?"text":"password";t.setAttribute("type",r),this.toggleTargetClass(e,"show","text"===t.getAttribute("type"))}},{key:"toggleTargetClass",value:function(t,e,r){t.classList.toggle(e,r)}}])&&n(o.prototype,s),a&&n(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,s,a}(s(HTMLElement));customElements.define(customElements.component,c)}})();