(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}function l(t,r,n){return r=f(r),function(t,r){if(r&&("object"==e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,c()?Reflect.construct(r,n||[],f(t).constructor):r.apply(t,n))}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(c())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&s(o,r.prototype),o}(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},u(e)}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}if(customElements.component="main-product-info",!customElements.get(customElements.component)){var p=function(e){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=l(this,n)).wrapper=e.closest(".main-product-wrapper"),e.galleryWrapper=e.wrapper.querySelector(".main-product-wrapper__gallery"),e.mobileElement=e.wrapper.querySelector(".main-product-wrapper__gallery-mobile"),e.productInfo=e,e.titleElement=e.querySelector(".product_title"),e.variantRadiosElement=e.querySelector(".variant-radios-block"),e.priceElement=e.querySelector(".price_block"),e.modalsElement=e.querySelector(".modals-wrapper"),e.starsElement=e.querySelector(".tag_with_stars"),e.variantSelector=e.querySelector(".color-options"),e.fancyBoxElms=e.querySelectorAll("[data-fancybox]"),e.isMobile=window.innerWidth<1024,e.originalOrder=e.captureOriginalOrder(),e.originalParents=e.storeOriginalParents(),e.handleResize=e.handleResize.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e),o=n,(a=[{key:"captureOriginalOrder",value:function(){return r(this.children).reduce((function(e,t,r){return e.set(t,r),e}),new Map)}},{key:"storeOriginalParents",value:function(){var e=new Map;return[this.variantRadiosElement].forEach((function(t){t&&e.set(t,{parent:t.parentElement,nextSibling:t.nextElementSibling})})),e}},{key:"moveElements",value:function(){var e=this;this.mobileElement&&(this.isMobile?([this.starsElement,this.titleElement,this.variantRadiosElement].forEach((function(t){t&&e.mobileElement.appendChild(t)})),this.priceElement&&this.modalsElement&&this.galleryWrapper&&(this.galleryWrapper.after(this.modalsElement),this.modalsElement.after(this.priceElement)),this.variantSelector&&this.galleryWrapper.before(this.variantSelector)):(r(this.originalOrder.entries()).sort((function(e,t){return e[1]-t[1]})).map((function(e){return t(e,1)[0]})).forEach((function(t){t!==e.variantRadiosElement&&e.productInfo.appendChild(t)})),this.originalParents.forEach((function(e,t){var r=e.parent,n=e.nextSibling;n&&r.contains(n)?r.insertBefore(t,n):r.appendChild(t)}))))}},{key:"init",value:function(){this.startFancyBox(),this.isMobile&&this.moveElements(),this.setupEventListeners()}},{key:"handleResize",value:function(){var e=this.isMobile;this.isMobile=window.innerWidth<1024,e!==this.isMobile&&this.moveElements()}},{key:"setupEventListeners",value:function(){var e,t=this;window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout(t.handleResize,250)}))}},{key:"startFancyBox",value:function(){this.fancyBoxElms.length&&Fancybox.bind("[data-fancybox]")}},{key:"connectedCallback",value:function(){this.init()}},{key:"disconnectedCallback",value:function(){window.removeEventListener("resize",this.handleResize)}}])&&i(o.prototype,a),u&&i(o,u),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,u}(u(HTMLElement));customElements.define(customElements.component,p)}})();